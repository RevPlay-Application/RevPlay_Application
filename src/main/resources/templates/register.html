<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join RevPlay | Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .type-selector {
            display: flex;
            background: #fff;
            padding: 0.5rem;
            border-radius: 50px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-light);
        }

        .type-btn {
            flex: 1;
            padding: 0.8rem;
            border-radius: 50px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-gray);
            transition: 0.3s;
        }

        .type-btn.active {
            background: var(--primary-orange);
            color: white;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body class="bg-light">


    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="auth-container bg-white p-4 p-md-5 rounded-4 shadow-sm border mt-4">
                    <h2 class="fw-bold mb-1">Join the <span class="orange-text">Revolution</span></h2>
                    <p class="text-muted mb-4">Choose your path and start creating or listening.</p>

                    <div th:if="${error}" class="alert alert-danger mb-4" th:text="${error}"></div>

                    <div class="type-selector mb-4">
                        <button class="type-btn active" onclick="switchTab('listener')">Listener</button>
                        <button class="type-btn" onclick="switchTab('artist')">Artist</button>
                    </div>

                    <!-- Subscriber Form -->
                    <form id="listenerForm" th:action="@{/register/subscriber}" method="post">
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Email Address</label>
                            <input type="email" name="email" class="form-control" placeholder="you@example.com"
                                required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Username</label>
                            <input type="text" name="username" class="form-control" placeholder="choose_a_name"
                                required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Display Name</label>
                            <input type="text" name="displayName" class="form-control"
                                placeholder="How should we call you?" required>
                        </div>
                        <div class="mb-4">
                            <label class="form-label fw-semibold">Password</label>
                            <input type="password" name="password" class="form-control"
                                placeholder="Minimum 6 characters" required minlength="6">
                        </div>
                        <button type="submit" class="btn btn-orange w-100 py-2 fs-5">Create Listener Account</button>
                    </form>

                    <!-- Artist Form -->
                    <form id="artistForm" th:action="@{/register/artist}" method="post" class="hidden">
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Email Address</label>
                            <input type="email" name="email" class="form-control" placeholder="musician@example.com"
                                required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Username</label>
                            <input type="text" name="username" class="form-control" placeholder="artist_handle"
                                required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Stage Name / Artist Name</label>
                            <input type="text" name="artistName" class="form-control"
                                placeholder="Your band or stage name" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Primary Genre</label>
                            <select name="genre" class="form-select" required>
                                <option value="Pop">Pop</option>
                                <option value="Rock">Rock</option>
                                <option value="Hip Hop">Hip Hop</option>
                                <option value="Jazz">Jazz</option>
                                <option value="Electronic">Electronic</option>
                                <option value="Classical">Classical</option>
                                <option value="R&B">R&B</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="form-label fw-semibold">Password</label>
                            <input type="password" name="password" class="form-control"
                                placeholder="Create a strong password" required minlength="6">
                        </div>
                        <button type="submit" class="btn btn-orange w-100 py-2 fs-5">Create Artist Account</button>
                    </form>

                    <p class="text-center mt-4 mb-0 small">
                        Already have an account? <a href="/login" class="orange-text fw-bold text-decoration-none">Sign
                            in</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function switchTab(type) {
            const btns = document.querySelectorAll('.type-btn');
            const listenerForm = document.getElementById('listenerForm');
            const artistForm = document.getElementById('artistForm');

            btns.forEach(btn => btn.classList.remove('active'));
            if (type === 'listener') {
                btns[0].classList.add('active');
                listenerForm.classList.remove('hidden');
                artistForm.classList.add('hidden');
            } else {
                btns[1].classList.add('active');
                listenerForm.classList.add('hidden');
                artistForm.classList.remove('hidden');
            }
        }
    </script>
</body>

</html>